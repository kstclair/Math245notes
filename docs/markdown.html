<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>D R Markdown | Math 245 Notes</title>
  <meta name="description" content="Course notes and examples for Applied Regression Analysis">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="D R Markdown | Math 245 Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Course notes and examples for Applied Regression Analysis" />
  <meta name="github-repo" content="kstclair/Math245notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="D R Markdown | Math 245 Notes" />
  
  <meta name="twitter:description" content="Course notes and examples for Applied Regression Analysis" />
  

<meta name="author" content="Katie St. Clair, Carleton College">


<meta name="date" content="2019-09-18">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="rreview.html">
<link rel="next" href="mathreview.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Math 245 Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Getting Started</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#getting-help"><i class="fa fa-check"></i>Getting help</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="review.html"><a href="review.html"><i class="fa fa-check"></i><b>1</b> Review of Statistical Inference</a><ul>
<li class="chapter" data-level="1.1" data-path="review.html"><a href="review.html#sampling-distribution"><i class="fa fa-check"></i><b>1.1</b> Sampling Distribution</a></li>
<li class="chapter" data-level="1.2" data-path="review.html"><a href="review.html#central-limit-theorem"><i class="fa fa-check"></i><b>1.2</b> Central Limit Theorem</a><ul>
<li class="chapter" data-level="1.2.1" data-path="review.html"><a href="review.html#standard-error"><i class="fa fa-check"></i><b>1.2.1</b> Standard error</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="review.html"><a href="review.html#hypothesis-testing"><i class="fa fa-check"></i><b>1.3</b> Hypothesis testing</a></li>
<li class="chapter" data-level="1.4" data-path="review.html"><a href="review.html#confidence-intervals"><i class="fa fa-check"></i><b>1.4</b> Confidence Intervals</a></li>
<li class="chapter" data-level="1.5" data-path="review.html"><a href="review.html#review_activity"><i class="fa fa-check"></i><b>1.5</b> Review activity (day 2)</a><ul>
<li class="chapter" data-level="1.5.1" data-path="review.html"><a href="review.html#general-questions"><i class="fa fa-check"></i><b>1.5.1</b> General questions</a></li>
<li class="chapter" data-level="1.5.2" data-path="review.html"><a href="review.html#comparing-two-means"><i class="fa fa-check"></i><b>1.5.2</b> Comparing two means</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="slr.html"><a href="slr.html"><i class="fa fa-check"></i><b>2</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="2.1" data-path="slr.html"><a href="slr.html#the-variables"><i class="fa fa-check"></i><b>2.1</b> The variables</a></li>
<li class="chapter" data-level="2.2" data-path="slr.html"><a href="slr.html#slr-model"><i class="fa fa-check"></i><b>2.2</b> The model form</a><ul>
<li class="chapter" data-level="2.2.1" data-path="slr.html"><a href="slr.html#interpretation"><i class="fa fa-check"></i><b>2.2.1</b> Interpretation</a></li>
<li class="chapter" data-level="2.2.2" data-path="slr.html"><a href="slr.html#slr-model-ex"><i class="fa fa-check"></i><b>2.2.2</b> Example: Woodpecker nests</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="slr.html"><a href="slr.html#slr-est"><i class="fa fa-check"></i><b>2.3</b> Theory: Estimation</a><ul>
<li class="chapter" data-level="2.3.1" data-path="slr.html"><a href="slr.html#sampling-distributions-for-slr-estimates"><i class="fa fa-check"></i><b>2.3.1</b> Sampling Distributions for SLR estimates</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="slr.html"><a href="slr.html#slr-sim"><i class="fa fa-check"></i><b>2.4</b> SLR model simulation</a><ul>
<li class="chapter" data-level="2.4.1" data-path="slr.html"><a href="slr.html#simulation-function"><i class="fa fa-check"></i><b>2.4.1</b> Simulation function</a></li>
<li class="chapter" data-level="2.4.2" data-path="slr.html"><a href="slr.html#run-the-function-once"><i class="fa fa-check"></i><b>2.4.2</b> Run the function once</a></li>
<li class="chapter" data-level="2.4.3" data-path="slr.html"><a href="slr.html#simulated-sampling-distribution-for-hatbeta_1"><i class="fa fa-check"></i><b>2.4.3</b> Simulated sampling distribution for <span class="math inline">\(\hat{\beta}_1\)</span></a></li>
<li class="chapter" data-level="2.4.4" data-path="slr.html"><a href="slr.html#are-slope-and-intercept-estimates-correlated"><i class="fa fa-check"></i><b>2.4.4</b> Are slope and intercept estimates correlated?</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="slr.html"><a href="slr.html#slr-inf"><i class="fa fa-check"></i><b>2.5</b> Inference for mean parameters</a><ul>
<li class="chapter" data-level="2.5.1" data-path="slr.html"><a href="slr.html#confidence-intervals-1"><i class="fa fa-check"></i><b>2.5.1</b> Confidence Intervals</a></li>
<li class="chapter" data-level="2.5.2" data-path="slr.html"><a href="slr.html#hypothesis-tests"><i class="fa fa-check"></i><b>2.5.2</b> Hypothesis tests</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="slr.html"><a href="slr.html#slr-inf2"><i class="fa fa-check"></i><b>2.6</b> Inference for average or predicted response</a><ul>
<li class="chapter" data-level="2.6.1" data-path="slr.html"><a href="slr.html#confidence-intervals-for-mu_y-mid-x"><i class="fa fa-check"></i><b>2.6.1</b> Confidence intervals for <span class="math inline">\(\mu_{y \mid x}\)</span></a></li>
<li class="chapter" data-level="2.6.2" data-path="slr.html"><a href="slr.html#prediction-intervals-for-new-cases"><i class="fa fa-check"></i><b>2.6.2</b> Prediction intervals for new cases</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="slr.html"><a href="slr.html#slr-example1"><i class="fa fa-check"></i><b>2.7</b> Example: SLR model (day 3)</a><ul>
<li class="chapter" data-level="2.7.1" data-path="slr.html"><a href="slr.html#load-data"><i class="fa fa-check"></i><b>2.7.1</b> Load data</a></li>
<li class="chapter" data-level="2.7.2" data-path="slr.html"><a href="slr.html#eda-1"><i class="fa fa-check"></i><b>2.7.2</b> EDA</a></li>
<li class="chapter" data-level="2.7.3" data-path="slr.html"><a href="slr.html#the-least-squares-line-the-estimated-slr-model"><i class="fa fa-check"></i><b>2.7.3</b> The least squares line (the estimated SLR model):</a></li>
<li class="chapter" data-level="2.7.4" data-path="slr.html"><a href="slr.html#inference-for-coefficients"><i class="fa fa-check"></i><b>2.7.4</b> Inference for coefficients</a></li>
<li class="chapter" data-level="2.7.5" data-path="slr.html"><a href="slr.html#additional-lm-information"><i class="fa fa-check"></i><b>2.7.5</b> Additional <code>lm</code> information</a></li>
<li class="chapter" data-level="2.7.6" data-path="slr.html"><a href="slr.html#slr-broom"><i class="fa fa-check"></i><b>2.7.6</b> <code>broom</code> package: Tidy <code>lm</code> output</a></li>
<li class="chapter" data-level="2.7.7" data-path="slr.html"><a href="slr.html#inference-for-the-mean-and-predicted-response"><i class="fa fa-check"></i><b>2.7.7</b> Inference for the mean and predicted response</a></li>
<li class="chapter" data-level="2.7.8" data-path="slr.html"><a href="slr.html#adding-confidence-bands-to-a-scatterplot"><i class="fa fa-check"></i><b>2.7.8</b> Adding confidence bands to a scatterplot</a></li>
<li class="chapter" data-level="2.7.9" data-path="slr.html"><a href="slr.html#tools-for-displaying-your-model"><i class="fa fa-check"></i><b>2.7.9</b> Tools for displaying your model</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="slr.html"><a href="slr.html#slr-assump"><i class="fa fa-check"></i><b>2.8</b> Checking model assumptions and fit</a><ul>
<li class="chapter" data-level="2.8.1" data-path="slr.html"><a href="slr.html#residuals"><i class="fa fa-check"></i><b>2.8.1</b> Residuals</a></li>
<li class="chapter" data-level="2.8.2" data-path="slr.html"><a href="slr.html#residual-plot-linearity-and-constant-variance"><i class="fa fa-check"></i><b>2.8.2</b> Residual plot: linearity and constant variance</a></li>
<li class="chapter" data-level="2.8.3" data-path="slr.html"><a href="slr.html#residual-normal-qq-plot"><i class="fa fa-check"></i><b>2.8.3</b> Residual normal QQ plot</a></li>
<li class="chapter" data-level="2.8.4" data-path="slr.html"><a href="slr.html#independence"><i class="fa fa-check"></i><b>2.8.4</b> Independence</a></li>
<li class="chapter" data-level="2.8.5" data-path="slr.html"><a href="slr.html#robustness-against-violations"><i class="fa fa-check"></i><b>2.8.5</b> Robustness against violations</a></li>
<li class="chapter" data-level="2.8.6" data-path="slr.html"><a href="slr.html#fixes-to-violations"><i class="fa fa-check"></i><b>2.8.6</b> “Fixes” to violations</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="slr.html"><a href="slr.html#slr-example2"><i class="fa fa-check"></i><b>2.9</b> Example: SLR assumptions (day 4)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mlr.html"><a href="mlr.html"><i class="fa fa-check"></i><b>3</b> Multiple Regression</a></li>
<li class="chapter" data-level="4" data-path="logistic.html"><a href="logistic.html"><i class="fa fa-check"></i><b>4</b> Logistic Regression</a></li>
<li class="chapter" data-level="5" data-path="poisson.html"><a href="poisson.html"><i class="fa fa-check"></i><b>5</b> Poisson Regression</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="rrstudio.html"><a href="rrstudio.html"><i class="fa fa-check"></i><b>A</b> R and Rstudio</a><ul>
<li class="chapter" data-level="A.1" data-path="rrstudio.html"><a href="rrstudio.html#running-rstudio"><i class="fa fa-check"></i><b>A.1</b> Running Rstudio</a></li>
<li class="chapter" data-level="A.2" data-path="rrstudio.html"><a href="rrstudio.html#r"><i class="fa fa-check"></i><b>A.2</b> Installing R</a></li>
<li class="chapter" data-level="A.3" data-path="rrstudio.html"><a href="rrstudio.html#rstudio"><i class="fa fa-check"></i><b>A.3</b> Installing Rstudio</a></li>
<li class="chapter" data-level="A.4" data-path="rrstudio.html"><a href="rrstudio.html#packages"><i class="fa fa-check"></i><b>A.4</b> Installing R packages</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="renviron.html"><a href="renviron.html"><i class="fa fa-check"></i><b>B</b> The R enviroment</a><ul>
<li class="chapter" data-level="B.1" data-path="renviron.html"><a href="renviron.html#workspace"><i class="fa fa-check"></i><b>B.1</b> Workspace</a></li>
<li class="chapter" data-level="B.2" data-path="renviron.html"><a href="renviron.html#working-directory"><i class="fa fa-check"></i><b>B.2</b> Working directory</a></li>
<li class="chapter" data-level="B.3" data-path="renviron.html"><a href="renviron.html#project"><i class="fa fa-check"></i><b>B.3</b> Rstudio projects</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="rreview.html"><a href="rreview.html"><i class="fa fa-check"></i><b>C</b> R for basic data analysis</a><ul>
<li class="chapter" data-level="C.1" data-path="rreview.html"><a href="rreview.html#basics"><i class="fa fa-check"></i><b>C.1</b> Basics</a><ul>
<li class="chapter" data-level="C.1.1" data-path="rreview.html"><a href="rreview.html#quick-tips"><i class="fa fa-check"></i><b>C.1.1</b> Quick Tips</a></li>
<li class="chapter" data-level="C.1.2" data-path="rreview.html"><a href="rreview.html#objects"><i class="fa fa-check"></i><b>C.1.2</b> Objects</a></li>
<li class="chapter" data-level="C.1.3" data-path="rreview.html"><a href="rreview.html#vectors"><i class="fa fa-check"></i><b>C.1.3</b> Vectors</a></li>
<li class="chapter" data-level="C.1.4" data-path="rreview.html"><a href="rreview.html#arithmetic"><i class="fa fa-check"></i><b>C.1.4</b> Arithmetic</a></li>
<li class="chapter" data-level="C.1.5" data-path="rreview.html"><a href="rreview.html#subsetting"><i class="fa fa-check"></i><b>C.1.5</b> Subsetting</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="review.html"><a href="review.html#data"><i class="fa fa-check"></i><b>C.2</b> Data</a><ul>
<li class="chapter" data-level="C.2.1" data-path="rreview.html"><a href="rreview.html#reading-data-into-r"><i class="fa fa-check"></i><b>C.2.1</b> Reading Data into R</a></li>
<li class="chapter" data-level="C.2.2" data-path="rreview.html"><a href="rreview.html#investigating-a-data-frame"><i class="fa fa-check"></i><b>C.2.2</b> Investigating a Data Frame</a></li>
<li class="chapter" data-level="C.2.3" data-path="rreview.html"><a href="rreview.html#access"><i class="fa fa-check"></i><b>C.2.3</b> Accessing Data</a></li>
<li class="chapter" data-level="C.2.4" data-path="rreview.html"><a href="rreview.html#Rreview-subset"><i class="fa fa-check"></i><b>C.2.4</b> Subsetting a Data Frame</a></li>
<li class="chapter" data-level="C.2.5" data-path="rreview.html"><a href="rreview.html#creating-a-data-frame"><i class="fa fa-check"></i><b>C.2.5</b> Creating a data frame</a></li>
<li class="chapter" data-level="C.2.6" data-path="rreview.html"><a href="rreview.html#adding-a-new-column-to-a-data-frame"><i class="fa fa-check"></i><b>C.2.6</b> Adding a new column to a data frame</a></li>
<li class="chapter" data-level="C.2.7" data-path="rreview.html"><a href="rreview.html#missing-data"><i class="fa fa-check"></i><b>C.2.7</b> Missing Data</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="review.html"><a href="review.html#eda"><i class="fa fa-check"></i><b>C.3</b> EDA</a><ul>
<li class="chapter" data-level="C.3.1" data-path="rreview.html"><a href="rreview.html#categorical"><i class="fa fa-check"></i><b>C.3.1</b> Categorical:</a></li>
<li class="chapter" data-level="C.3.2" data-path="rreview.html"><a href="rreview.html#quantitative"><i class="fa fa-check"></i><b>C.3.2</b> Quantitative:</a></li>
<li class="chapter" data-level="C.3.3" data-path="rreview.html"><a href="rreview.html#Rreview-stats"><i class="fa fa-check"></i><b>C.3.3</b> Quantitative grouped by a categorical</a></li>
<li class="chapter" data-level="C.3.4" data-path="rreview.html"><a href="rreview.html#Rreview-graphs"><i class="fa fa-check"></i><b>C.3.4</b> Graphs</a></li>
<li class="chapter" data-level="C.3.5" data-path="rreview.html"><a href="rreview.html#reporting-results"><i class="fa fa-check"></i><b>C.3.5</b> Reporting Results</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="rreview.html"><a href="rreview.html#factors"><i class="fa fa-check"></i><b>C.4</b> Factor variables</a><ul>
<li class="chapter" data-level="C.4.1" data-path="rreview.html"><a href="rreview.html#renaming-factor-levels"><i class="fa fa-check"></i><b>C.4.1</b> Renaming factor levels</a></li>
<li class="chapter" data-level="C.4.2" data-path="rreview.html"><a href="rreview.html#recode-a-categorical-variable-with-many-levels"><i class="fa fa-check"></i><b>C.4.2</b> Recode a categorical variable with many levels</a></li>
<li class="chapter" data-level="C.4.3" data-path="rreview.html"><a href="rreview.html#converting-some-factor-levels-to-nas"><i class="fa fa-check"></i><b>C.4.3</b> Converting some factor levels to <code>NA</code>s</a></li>
<li class="chapter" data-level="C.4.4" data-path="rreview.html"><a href="rreview.html#changing-the-order-of-levels"><i class="fa fa-check"></i><b>C.4.4</b> Changing the order of levels</a></li>
<li class="chapter" data-level="C.4.5" data-path="rreview.html"><a href="rreview.html#recode-a-numerically-coded-categorical-variable"><i class="fa fa-check"></i><b>C.4.5</b> Recode a numerically coded categorical variable</a></li>
<li class="chapter" data-level="C.4.6" data-path="rreview.html"><a href="rreview.html#recode-a-factor-into-a-numeric"><i class="fa fa-check"></i><b>C.4.6</b> Recode a factor into a numeric</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="markdown.html"><a href="markdown.html"><i class="fa fa-check"></i><b>D</b> R Markdown</a><ul>
<li class="chapter" data-level="D.1" data-path="markdown.html"><a href="markdown.html#how-to-write-an-r-markdown-document"><i class="fa fa-check"></i><b>D.1</b> How to write an R Markdown document</a></li>
<li class="chapter" data-level="D.2" data-path="markdown.html"><a href="markdown.html#changing-r-markdown-chunk-evaluation-behavior"><i class="fa fa-check"></i><b>D.2</b> Changing R Markdown chunk evaluation behavior</a></li>
<li class="chapter" data-level="D.3" data-path="markdown.html"><a href="markdown.html#creating-a-new-r-markdown-document"><i class="fa fa-check"></i><b>D.3</b> Creating a new R Markdown document</a></li>
<li class="chapter" data-level="D.4" data-path="markdown.html"><a href="markdown.html#markdown-graphs"><i class="fa fa-check"></i><b>D.4</b> Extra: Graph formatting</a><ul>
<li class="chapter" data-level="D.4.1" data-path="markdown.html"><a href="markdown.html#adding-figure-numbers-and-captions"><i class="fa fa-check"></i><b>D.4.1</b> Adding figure numbers and captions</a></li>
<li class="chapter" data-level="D.4.2" data-path="markdown.html"><a href="markdown.html#resizing-graphs-in-markdown"><i class="fa fa-check"></i><b>D.4.2</b> Resizing graphs in Markdown</a></li>
<li class="chapter" data-level="D.4.3" data-path="markdown.html"><a href="markdown.html#changing-graph-formatting-in-r"><i class="fa fa-check"></i><b>D.4.3</b> Changing graph formatting in R</a></li>
<li class="chapter" data-level="D.4.4" data-path="markdown.html"><a href="markdown.html#hiding-r-commands"><i class="fa fa-check"></i><b>D.4.4</b> Hiding R commands</a></li>
<li class="chapter" data-level="D.4.5" data-path="markdown.html"><a href="markdown.html#global-changes-in-graph-format"><i class="fa fa-check"></i><b>D.4.5</b> Global changes in graph format</a></li>
<li class="chapter" data-level="D.4.6" data-path="markdown.html"><a href="markdown.html#comments"><i class="fa fa-check"></i><b>D.4.6</b> Comments:</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="markdown.html"><a href="markdown.html#markdown-tables"><i class="fa fa-check"></i><b>D.5</b> Extra: Table formatting</a><ul>
<li class="chapter" data-level="D.5.1" data-path="markdown.html"><a href="markdown.html#hiding-r-commands-and-r-output"><i class="fa fa-check"></i><b>D.5.1</b> Hiding R commands and R output</a></li>
<li class="chapter" data-level="D.5.2" data-path="markdown.html"><a href="markdown.html#markdown-tables"><i class="fa fa-check"></i><b>D.5.2</b> Markdown tables</a></li>
<li class="chapter" data-level="D.5.3" data-path="markdown.html"><a href="markdown.html#markdown-tables-via-kable"><i class="fa fa-check"></i><b>D.5.3</b> Markdown tables via <code>kable</code></a></li>
<li class="chapter" data-level="D.5.4" data-path="markdown.html"><a href="markdown.html#the-pander-package"><i class="fa fa-check"></i><b>D.5.4</b> The <code>pander</code> package</a></li>
<li class="chapter" data-level="D.5.5" data-path="markdown.html"><a href="markdown.html#the-stargazer-package"><i class="fa fa-check"></i><b>D.5.5</b> The <code>stargazer</code> package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="E" data-path="mathreview.html"><a href="mathreview.html"><i class="fa fa-check"></i><b>E</b> Math review</a><ul>
<li class="chapter" data-level="E.1" data-path="mathreview.html"><a href="mathreview.html#math-linear"><i class="fa fa-check"></i><b>E.1</b> Linear equations</a></li>
<li class="chapter" data-level="E.2" data-path="mathreview.html"><a href="mathreview.html#math-log"><i class="fa fa-check"></i><b>E.2</b> Logarithms</a><ul>
<li class="chapter" data-level="E.2.1" data-path="mathreview.html"><a href="mathreview.html#interpreting-logged-variables"><i class="fa fa-check"></i><b>E.2.1</b> Interpreting logged variables</a></li>
<li class="chapter" data-level="E.2.2" data-path="mathreview.html"><a href="mathreview.html#inverse-i.e.reversing-the-log-getting-rid-of-the-log"><i class="fa fa-check"></i><b>E.2.2</b> Inverse (i.e. reversing the log, getting rid of the log, …)</a></li>
<li class="chapter" data-level="E.2.3" data-path="mathreview.html"><a href="mathreview.html#logarithms-in-r"><i class="fa fa-check"></i><b>E.2.3</b> Logarithms in R</a></li>
</ul></li>
<li class="chapter" data-level="E.3" data-path="mathreview.html"><a href="mathreview.html#math-exercises"><i class="fa fa-check"></i><b>E.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Math 245 Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="markdown" class="section level1">
<h1><span class="header-section-number">D</span> R Markdown</h1>
<p>An R Markdown (<code>.Rmd</code>) file will allow you to integrate your R commands, output and written work in one document. You write your R code and explanations in the <code>.Rmd</code> file, the <strong>knit</strong> the document to a Word, HTML, or pdf file. A basic R Markdown file has the following elements:</p>
<ul>
<li><strong>Header</strong>: this is the stuff in between the three dashes <code>---</code> located at the top of your <code>.Rmd</code> file. A basic header should specify your document <code>title</code>, <code>author</code> and <code>output</code> type (e.g. <code>word_document</code>).</li>
<li><strong>Written work</strong>: Write up your work like you would in any word/google doc. Formatting is done with special symbols. E.g. to bold a word or phrase, place two asterisks <code>**</code> at the start and end of the word or phrase (with no spaces). To get section headers use one or more hash tags <code>#</code> prior to the section name.</li>
<li><strong>R code</strong>: Your R commands are contained in one or more <strong>chunks</strong> that contains one or more R commands. A chunk starts with three backticks (to the left of your 1 key) combined with <code>{r}</code> and a chunk ends with three more backticks. See the image below for an example of a chunk that reads in the data files <code>HollywoodMovies2011.csv</code>.</li>
</ul>
<div class="figure">
<img src="images/chunkRead.png" alt="A R chunk that reads in a data file" />
<p class="caption">A R chunk that reads in a data file</p>
</div>
<p><strong>Important!!</strong> A common <strong>error</strong> that students run into when first using R Markdown is <strong>forgetting to put the <code>read.csv</code> command in their document</strong>. An R Markdown document must contain <strong>all</strong> commands needed to complete an analysis. This includes reading in the data! Basically, what happens during the knitting process is that a fresh version of an Rstudio environment is created that is completely separate from the Rstudio you see running in front of you. The R chunks are run in this new environment, and if you will encounter a Markdown error if you, say, try to use the <code>movies</code> data frame without first including the <code>read.csv</code> chunk shown in Figure 1.</p>
<div id="how-to-write-an-r-markdown-document" class="section level2">
<h2><span class="header-section-number">D.1</span> How to write an R Markdown document</h2>
<ul>
<li>Write your commands in R chunks, not in the console. Run chunk commands using the suggestions in the Hints section below.</li>
<li>Knit your document often. This allows you to catch errors/typos as you make them.</li>
<li>You can knit a <code>.Rmd</code> by pressing the <code>Knit</code> button at the top of the doc. You can change output types (e.g. switch from HTML to Word) by typing in the preferred doc type in the header, or by using the drop down menu option found by clicking the down triangle to the right of the <code>Knit</code> button.</li>
<li>You can run a line of code in the R console by putting your cursor in the line and selecting <strong>Run &gt; Run Selected Line(s)</strong>.</li>
<li>You can run all commands in a chunk by clicking the green triangle on the right side of the chunk.</li>
<li>URLs can be embeded between <code>&lt;</code> and <code>&gt;</code> symbols.</li>
<li>The image below shows a quick scrolling menu that is available by clicking the double triangle button at the bottom of the <code>.Rmd</code>. This menu shows section headers and available chunks. It is useful for navagating a long <code>.Rmd</code> file.</li>
</ul>
<div class="figure">
<img src="images/scroll2.PNG" alt="Quick scroll through Markdown document" />
<p class="caption">Quick scroll through Markdown document</p>
</div>
</div>
<div id="changing-r-markdown-chunk-evaluation-behavior" class="section level2">
<h2><span class="header-section-number">D.2</span> Changing R Markdown chunk evaluation behavior</h2>
<p>The default setting in Rstudio when you are running chunks is that the “output” (numbers, graphs) are shown “inline” within the Markdown <code>Rmd</code>. For a variety of reasons, my preference is to have commands run in the console. To see the difference between these two types of chunk evaluation option, you can change this setting as follows:</p>
<ol style="list-style-type: decimal">
<li>Select <strong>Tools &gt; Global Options</strong>.</li>
<li>Click the <strong>R Markdown</strong> section and <strong>uncheck</strong> (if needed) the option <strong>Show output inline for all R Markdown documents</strong>.</li>
<li>Click <strong>OK</strong>.</li>
</ol>
<p>Now try running R chunks in the <code>.Rmd</code> file to see the difference. You can recheck this box if you prefer the default setting.</p>
</div>
<div id="creating-a-new-r-markdown-document" class="section level2">
<h2><span class="header-section-number">D.3</span> Creating a new R Markdown document</h2>
<p>I suggest using old <code>.Rmd</code> HW file as a template for a new HW assignment. But if you want to create a completely new docment:</p>
<ol style="list-style-type: decimal">
<li>Click <strong>File &gt; New File &gt; R Markdown…</strong>.</li>
<li>A window like the one shown below should appear. The default settings will give you a basic Markdown (.Rmd) file that will generate an HTML document. Click <strong>OK</strong> on this window.</li>
</ol>
<div class="figure">
<img src="images/newMarkdown.png" alt="Opening a Markdown document" />
<p class="caption">Opening a Markdown document</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>You should now have an “Untitled1” Markdown file opened in your document pane of Rstudio. <strong>Save</strong> this file, renamed as “FirstMarkdown.Rmd”, somewhere on your computer. (Ideally in a Math215 folder!) On Mirage, save the file in the default location (which is your account folder on the mirage server).</li>
<li>Now click the <strong>Knit HTML</strong> button on the tool bar at the top of your Markdown document. This will generate a “knitted” (compiled) version of this document. Check that there is now an HTML file named “FirstMarkdown.html” in the same location as your “FirstMarkdown.Rmd” file.</li>
</ol>
</div>
<div id="markdown-graphs" class="section level2">
<h2><span class="header-section-number">D.4</span> Extra: Graph formatting</h2>
<p>The markdown .Rmd for this graph formatting section is linked here: <a href="https://kstclair.github.io/Rmaterial/Markdown/Markdown_GraphFormatting.Rmd" class="uri">https://kstclair.github.io/Rmaterial/Markdown/Markdown_GraphFormatting.Rmd</a></p>
<p>The data set Cereals contains information on cereals sold at a local grocery store.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="co"># load the data set </span>
<span class="er">&gt;</span><span class="st"> </span>Cereals &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;http://math.carleton.edu/Stats215/RLabManual/Cereals.csv&quot;</span>)</code></pre></div>
<div id="adding-figure-numbers-and-captions" class="section level3">
<h3><span class="header-section-number">D.4.1</span> Adding figure numbers and captions</h3>
<p>To add captions to the figures you make you need to add the argument <code>fig.cap=&quot;my caption&quot;</code> to your R chunk that creates the figure. If you have two or more figures created in the R chunk then give the <code>fig.cap</code> argument a vector of captions.</p>
<p>If you are knitting to a pdf, you don’t need to add “Figure 1”, etc. numbering to the figure captions (they will be numbered automatically). For HTML and Word output types, you need to manually number figures.</p>
</div>
<div id="resizing-graphs-in-markdown" class="section level3">
<h3><span class="header-section-number">D.4.2</span> Resizing graphs in Markdown</h3>
<p>Suppose we want to create a boxplot of calories per gram grouped by cereal type and a scatterplot of calories vs. carbs per gram. Here are the basic commands without any extra formatting that create Figures 1 and 2:</p>
<pre><code>```{r, fig.cap="Figure 1: Distributions of calories per gram by cereal type"}
boxplot(calgram ~ type, data=Cereals, main="Calories by type", ylab="Calories per gram")
```</code></pre>
<div class="figure"><span id="fig:unnamed-chunk-130"></span>
<img src="Math245notes_files/figure-html/unnamed-chunk-130-1.png" alt="Distributions of calories per gram by cereal type" width="672" />
<p class="caption">
Figure D.1: Distributions of calories per gram by cereal type
</p>
</div>
<pre><code>```{r, fig.cap="Figure 2: Calories vs. Carbs per gram"}
plot(carbsgram ~ calgram, data=Cereals, main="Carbs vs Calories")
```</code></pre>
<div class="figure"><span id="fig:unnamed-chunk-131"></span>
<img src="Math245notes_files/figure-html/unnamed-chunk-131-1.png" alt="Calories vs. Carbs per gram" width="672" />
<p class="caption">
Figure D.2: Calories vs. Carbs per gram
</p>
</div>
<p>We can add <code>fig.height</code> and <code>fig.width</code> parameters to the Markdown R chunk to resize the output size of the graph. The size inputs used here are a height of 3.5 inches and a width of 6 inches. The command below creates Figures 3 and 4.</p>
<pre><code>```{r, fig.height=3.5, fig.width=5, fig.cap=c("Figure 3: Distributions of calories per gram by cereal type","Figure 4: Calories vs. Carbs per gram")}
boxplot(calgram ~ type, data=Cereals, main="Calories by type", ylab="Calories per gram")
plot(carbsgram ~ calgram, data=Cereals, main="Carbs vs Calories")
```</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">boxplot</span>(calgram <span class="op">~</span><span class="st"> </span>type, <span class="dt">data=</span>Cereals, <span class="dt">main=</span><span class="st">&quot;Calories by type&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Calories per gram&quot;</span>)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-1321"></span>
<img src="Math245notes_files/figure-html/unnamed-chunk-132-1.png" alt="Distributions of calories per gram by cereal type" width="480" />
<p class="caption">
Figure D.3: Distributions of calories per gram by cereal type
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">plot</span>(carbsgram <span class="op">~</span><span class="st"> </span>calgram, <span class="dt">data=</span>Cereals, <span class="dt">main=</span><span class="st">&quot;Carbs vs Calories&quot;</span>)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-1322"></span>
<img src="Math245notes_files/figure-html/unnamed-chunk-132-2.png" alt="Calories vs. Carbs per gram" width="480" />
<p class="caption">
Figure D.4: Calories vs. Carbs per gram
</p>
</div>
</div>
<div id="changing-graph-formatting-in-r" class="section level3">
<h3><span class="header-section-number">D.4.3</span> Changing graph formatting in R</h3>
<p>You can use the <code>par</code> command to change R’s graphical parameter settings for plots that <strong>are not</strong> made from <code>ggplot2</code>. There are many options that can be changed, but one of the most useful is to change the layout of the graphical output display. The argument <code>mfrow</code> (multi-frame row) is given a vector <code>c(nr, nc)</code> that draws figures in an <code>nr</code> (number of rows) by <code>nc</code> (number of columns) array. We can arrange our two graphs in a 1 by 2 display (1 row, 2 columns) with the command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))
<span class="op">&gt;</span><span class="st"> </span><span class="kw">boxplot</span>(calgram <span class="op">~</span><span class="st"> </span>type, <span class="dt">data=</span>Cereals, <span class="dt">main=</span><span class="st">&quot;Calories by type&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Calories per gram&quot;</span>)
<span class="op">&gt;</span><span class="st"> </span><span class="kw">plot</span>(carbsgram <span class="op">~</span><span class="st"> </span>calgram, <span class="dt">data=</span>Cereals, <span class="dt">main=</span><span class="st">&quot;Carbs vs Calories&quot;</span>)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-133"></span>
<img src="Math245notes_files/figure-html/unnamed-chunk-133-1.png" alt="Distribution of calories per gram  by cereal type and calories vs. carbs per gram." width="672" />
<p class="caption">
Figure D.5: Distribution of calories per gram by cereal type and calories vs. carbs per gram.
</p>
</div>
</div>
<div id="hiding-r-commands" class="section level3">
<h3><span class="header-section-number">D.4.4</span> Hiding R commands</h3>
<p>You can omit R commands from your final document by adding <code>echo=FALSE</code> to your R chunk argument. Any output produced by your command (graphical or numerical) will still be displayed. For example, the following command creates Figure 6, a boxplot of carbs per gram by cereal type.</p>
<pre><code>```{r, echo=FALSE, fig.cap="Figure 6: Distributions of calories per gram and shelf placement by cereal type", fig.height=3, fig.width=4}
boxplot(carbsgram ~ type, data=Cereals, main="Carbs by type", ylab="Carbs per gram")
```</code></pre>
<div class="figure"><span id="fig:unnamed-chunk-134"></span>
<img src="Math245notes_files/figure-html/unnamed-chunk-134-1.png" alt="Distributions of calories per gram and shelf placement by cereal type" width="384" />
<p class="caption">
Figure D.6: Distributions of calories per gram and shelf placement by cereal type
</p>
</div>
</div>
<div id="global-changes-in-graph-format" class="section level3">
<h3><span class="header-section-number">D.4.5</span> Global changes in graph format</h3>
<p>The R chunk options that control graph sizes and output features (like <code>echo</code>) can be set globally for <strong>all</strong> R chunks either in the header (like with <code>fig.caption</code>) or in an <code>opts_chunk$set()</code> command at the start of the .Rmd file. I usually opt for setting global features with the <code>opts_chunk</code> command which you often see at the start of my .Rmd files. Any global settings, like <code>echo</code> or <code>fig.height</code>, can be overridden locally by changing them in individual chunks.</p>
</div>
<div id="comments" class="section level3">
<h3><span class="header-section-number">D.4.6</span> Comments:</h3>
<ul>
<li>Markdown is very sensitive to spaces, or lack-there-of. If you get odd formatting issues, try adding a spaces between R chunks, paragrahs, lists, section headers, etc. For example, you always need a space between an R chunk or text and a section header.</li>
</ul>
</div>
</div>
<div id="markdown-tables" class="section level2">
<h2><span class="header-section-number">D.5</span> Extra: Table formatting</h2>
<p>The markdown .Rmd for this table formatting section is linked here: <a href="https://kstclair.github.io/Rmaterial/Markdown/Markdown_TableFormatting.Rmd" class="uri">https://kstclair.github.io/Rmaterial/Markdown/Markdown_TableFormatting.Rmd</a></p>
<p>This handout gives some basic ways to format numerical output produced in your R chunks. Some of the methods mentioned below might only work when knitting to a PDF. Additional info about formatting text in R Markdown can be found online:</p>
<ul>
<li><a href="http://rmarkdown.rstudio.com/authoring_basics.html" class="uri">http://rmarkdown.rstudio.com/authoring_basics.html</a></li>
<li><a href="http://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf" class="uri">http://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf</a></li>
<li><a href="http://rmarkdown.rstudio.com/pdf_document_format.html" class="uri">http://rmarkdown.rstudio.com/pdf_document_format.html</a></li>
</ul>
<p>In homework or R appendices, I expect to see both the commands and output produced by those commands as your “work” for a problem. But in reports, as in any formal research paper, you should not include R commands or output (except for graphs). This handout is designed, primarily, to help you format numerical results to present into your written <em>reports</em>.</p>
<p>The data set Cereals contains information on cereals sold at a local grocery store.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="co"># load the data set</span>
<span class="er">&gt;</span><span class="st"> </span>Cereals &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;http://math.carleton.edu/Stats215/RLabManual/Cereals.csv&quot;</span>)</code></pre></div>
<div id="hiding-r-commands-and-r-output" class="section level3">
<h3><span class="header-section-number">D.5.1</span> Hiding R commands and R output</h3>
<p>As mentioned in the graph formatting handout, adding the chunk option <code>echo=FALSE</code> will display output (like graphs) produced by a chunk but not show the commands used in the chunk. You can stop <strong>both</strong> R commands and output from being displayed in a document by adding the chunk option <code>include=FALSE</code>.</p>
<p>As you work through a report analysis, you may initially want to see all of your R results as you are writing your report. But after you’ve summarized results in paragraphs or in tables, you can then use the <code>include=FALSE</code> argument to hid your R commands and output in your final document. If you ever need to rerun or reevaluate your R work for a report, you can easily recreate and edit your analysis since the R chunks used in your original report are still in your R Markdown .Rmd file.</p>
</div>
<div id="markdown-tables" class="section level3">
<h3><span class="header-section-number">D.5.2</span> Markdown tables</h3>
<p>The Markdown language allows you to construct simple tables using vertical lines <code>|</code> to separate columns and horizontal lines <code>-</code> to create a header. Make sure to include at least one space before and after your Markdown table or it will not format correctly. I can’t find an easy way to attached an automatic table number and caption to this type of table, so I’ve simply written (and centered) the table number and caption by hand for the table below.</p>
<p>Suppose we want to present the 5-number summary of calories per gram by cereal type. The <code>tapply</code> command can be used to obtain these numbers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">tapply</span>(Cereals<span class="op">$</span>calgram, Cereals<span class="op">$</span>type, summary)
## $adult
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   2.000   3.208   3.519   3.399   3.667   4.600 
## 
## $children
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   3.636   3.931   4.000   4.028   4.074   4.483</code></pre></div>
<p>We can construct a table of stats by type “by hand” using simple markdown table syntax in our .Rmd file that is shown below:</p>
<pre><code>Type | Min | Q1 | Median | Q3 | Max 
---- | --- | --- | --- | --- | ---
Adult | 2.0 | 3.2 | 3.5 | 3.7 | 4.6 
Children | 3.6 | 3.9 | 4.0 | 4.1 | 4.5</code></pre>
<p>The knitted table produced is shown below:</p>
<table>
<thead>
<tr class="header">
<th>Type</th>
<th>Min</th>
<th>Q1</th>
<th>Median</th>
<th>Q3</th>
<th>Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Adult</td>
<td>2.0</td>
<td>3.2</td>
<td>3.5</td>
<td>3.7</td>
<td>4.6</td>
</tr>
<tr class="even">
<td>Children</td>
<td>3.6</td>
<td>3.9</td>
<td>4.0</td>
<td>4.1</td>
<td>4.5</td>
</tr>
</tbody>
</table>
</div>
<div id="markdown-tables-via-kable" class="section level3">
<h3><span class="header-section-number">D.5.3</span> Markdown tables via <code>kable</code></h3>
<p>The R package <code>knitr</code> contains a simple table making function called <code>kable</code>. You can use this function to, say, show the first few rows of a data frame:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">library</span>(knitr)
<span class="op">&gt;</span><span class="st"> </span><span class="kw">kable</span>(<span class="kw">head</span>(Cereals), <span class="dt">digits=</span><span class="dv">3</span>, <span class="dt">caption=</span><span class="st">&quot;Table 1: Cereals data (first 6 cases)&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">library</span>(knitr)
<span class="op">&gt;</span><span class="st"> </span><span class="kw">kable</span>(<span class="kw">head</span>(Cereals), <span class="dt">digits=</span><span class="dv">3</span>, <span class="dt">caption=</span><span class="st">&quot;Cereals data (first 6 cases)&quot;</span>)</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-138">Table D.1: </span>Cereals data (first 6 cases)</caption>
<thead>
<tr class="header">
<th align="left">brand</th>
<th align="left">type</th>
<th align="left">shelf</th>
<th align="left">cereal</th>
<th align="right">serving</th>
<th align="right">calgram</th>
<th align="right">calfatgram</th>
<th align="right">totalfatgram</th>
<th align="right">sodiumgram</th>
<th align="right">carbsgram</th>
<th align="right">proteingram</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GM</td>
<td align="left">children</td>
<td align="left">bottom</td>
<td align="left">Lucky Charms</td>
<td align="right">30</td>
<td align="right">4.000</td>
<td align="right">0.333</td>
<td align="right">0.033</td>
<td align="right">0.007</td>
<td align="right">0.833</td>
<td align="right">0.067</td>
</tr>
<tr class="even">
<td align="left">GM</td>
<td align="left">adult</td>
<td align="left">bottom</td>
<td align="left">Cheerios</td>
<td align="right">30</td>
<td align="right">3.667</td>
<td align="right">0.500</td>
<td align="right">0.067</td>
<td align="right">0.007</td>
<td align="right">0.733</td>
<td align="right">0.100</td>
</tr>
<tr class="odd">
<td align="left">Kellogs</td>
<td align="left">children</td>
<td align="left">bottom</td>
<td align="left">Smorz</td>
<td align="right">30</td>
<td align="right">4.000</td>
<td align="right">0.667</td>
<td align="right">0.067</td>
<td align="right">0.005</td>
<td align="right">0.833</td>
<td align="right">0.033</td>
</tr>
<tr class="even">
<td align="left">Kellogs</td>
<td align="left">children</td>
<td align="left">bottom</td>
<td align="left">Scooby Doo Berry Bones</td>
<td align="right">33</td>
<td align="right">3.939</td>
<td align="right">0.303</td>
<td align="right">0.030</td>
<td align="right">0.007</td>
<td align="right">0.848</td>
<td align="right">0.030</td>
</tr>
<tr class="odd">
<td align="left">GM</td>
<td align="left">adult</td>
<td align="left">bottom</td>
<td align="left">Wheaties</td>
<td align="right">30</td>
<td align="right">3.667</td>
<td align="right">0.333</td>
<td align="right">0.033</td>
<td align="right">0.007</td>
<td align="right">0.800</td>
<td align="right">0.100</td>
</tr>
<tr class="even">
<td align="left">GM</td>
<td align="left">children</td>
<td align="left">bottom</td>
<td align="left">Trix</td>
<td align="right">30</td>
<td align="right">4.000</td>
<td align="right">0.500</td>
<td align="right">0.050</td>
<td align="right">0.006</td>
<td align="right">0.867</td>
<td align="right">0.033</td>
</tr>
</tbody>
</table>
<p>Or you can use <code>kable</code> on a two-way table of counts or proportions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">kable</span>(<span class="kw">table</span>(Cereals<span class="op">$</span>brand, Cereals<span class="op">$</span>type), <span class="dt">caption=</span><span class="st">&quot;Table 2: Cereal brand and type&quot;</span>)</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-140">Table D.2: </span>Cereal brand and type</caption>
<thead>
<tr class="header">
<th></th>
<th align="right">adult</th>
<th align="right">children</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GM</td>
<td align="right">4</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td>Kashi</td>
<td align="right">6</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td>Kellogs</td>
<td align="right">4</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td>Quaker</td>
<td align="right">1</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td>WW</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<div id="the-pander-package" class="section level3">
<h3><span class="header-section-number">D.5.4</span> The <code>pander</code> package</h3>
<p>The R package <code>pander</code> creates simple tables in R that do not need any additional formatting in Markdown. The <code>pander()</code> function takes in an R object, like a summary table or t-test output, and outputs a Markdown table. You can add a <code>caption</code> argument to include a table number and title. Here is a table for the summary of calories per gram:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">library</span>(pander)
<span class="op">&gt;</span><span class="st"> </span><span class="kw">pander</span>(<span class="kw">summary</span>(Cereals<span class="op">$</span>calgram), <span class="dt">caption=</span><span class="st">&quot;Table 3: Summary statistics for calories per gram.&quot;</span>)</code></pre></div>
<table style="width:69%;">
<caption>Table 3: Summary statistics for calories per gram.</caption>
<colgroup>
<col width="9%" />
<col width="13%" />
<col width="12%" />
<col width="11%" />
<col width="13%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Min.</th>
<th align="center">1st Qu.</th>
<th align="center">Median</th>
<th align="center">Mean</th>
<th align="center">3rd Qu.</th>
<th align="center">Max.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">2</td>
<td align="center">3.636</td>
<td align="center">3.929</td>
<td align="center">3.779</td>
<td align="center">4.031</td>
<td align="center">4.6</td>
</tr>
</tbody>
</table>
<p>Pander can format tables and proportion tables. Here is the table for cereal type and shelf placement (Table 4), along with the distribution of shelf placement by cereal type (Table 5).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span>my.table &lt;-<span class="st"> </span><span class="kw">table</span>(Cereals<span class="op">$</span>type,Cereals<span class="op">$</span>shelf)
<span class="op">&gt;</span><span class="st"> </span><span class="kw">pander</span>(my.table,<span class="dt">round=</span><span class="dv">3</span>, <span class="dt">caption=</span><span class="st">&quot;Table 4: Cereal type and shelf placement&quot;</span>)</code></pre></div>
<table style="width:53%;">
<caption>Table 4: Cereal type and shelf placement</caption>
<colgroup>
<col width="20%" />
<col width="12%" />
<col width="12%" />
<col width="6%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">bottom</th>
<th align="center">middle</th>
<th align="center">top</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>adult</strong></td>
<td align="center">2</td>
<td align="center">1</td>
<td align="center">14</td>
</tr>
<tr class="even">
<td align="center"><strong>children</strong></td>
<td align="center">7</td>
<td align="center">18</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">pander</span>(<span class="kw">prop.table</span>(my.table,<span class="dv">1</span>),<span class="dt">round=</span><span class="dv">3</span>, <span class="dt">caption=</span><span class="st">&quot;Table 5: Distribution of shelf placement by cereal type&quot;</span>)</code></pre></div>
<table style="width:58%;">
<caption>Table 5: Distribution of shelf placement by cereal type</caption>
<colgroup>
<col width="20%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">bottom</th>
<th align="center">middle</th>
<th align="center">top</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>adult</strong></td>
<td align="center">0.118</td>
<td align="center">0.059</td>
<td align="center">0.824</td>
</tr>
<tr class="even">
<td align="center"><strong>children</strong></td>
<td align="center">0.269</td>
<td align="center">0.692</td>
<td align="center">0.038</td>
</tr>
</tbody>
</table>
<p>Here are t-test results for comparing mean calories for adult and children cereals (Table 6):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">pander</span>(<span class="kw">t.test</span>(calgram <span class="op">~</span><span class="st"> </span>type, <span class="dt">data=</span>Cereals), <span class="dt">caption=</span><span class="st">&quot;Table 6: Comparing calories for adult and children cereals&quot;</span>)</code></pre></div>
<table style="width:93%;">
<caption>Table 6: Comparing calories for adult and children cereals (continued below)</caption>
<colgroup>
<col width="23%" />
<col width="11%" />
<col width="25%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Test statistic</th>
<th align="center">df</th>
<th align="center">P value</th>
<th align="center">Alternative hypothesis</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">-4.066</td>
<td align="center">18.45</td>
<td align="center">0.0006942 * * *</td>
<td align="center">two.sided</td>
</tr>
</tbody>
</table>
<table style="width:64%;">
<colgroup>
<col width="30%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">mean in group adult</th>
<th align="center">mean in group children</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">3.399</td>
<td align="center">4.028</td>
</tr>
</tbody>
</table>
<p>Here are chi-square test results for testing for an association between shelf placement and cereal type (Table 7). Note that the <code>simulate.p.value</code> option was used to give a randomization p-value since the sample size criteria for the chi-square approximation was not met.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">pander</span>(<span class="kw">chisq.test</span>(my.table, <span class="dt">simulate.p.value =</span> <span class="ot">TRUE</span>),<span class="dt">caption=</span><span class="st">&quot;Table 7: Chi-square test for placement and type&quot;</span>)</code></pre></div>
<table style="width:54%;">
<caption>Table 7: Chi-square test for placement and type</caption>
<colgroup>
<col width="23%" />
<col width="6%" />
<col width="23%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Test statistic</th>
<th align="center">df</th>
<th align="center">P value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">28.63</td>
<td align="center">NA</td>
<td align="center">0.0004998 * * *</td>
</tr>
</tbody>
</table>
<p>Here are the basic results for the regression of carbs on calories (Table 8).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">pander</span>(<span class="kw">lm</span>(carbsgram <span class="op">~</span><span class="st"> </span>calgram, <span class="dt">data=</span>Cereals), <span class="dt">caption=</span><span class="st">&quot;Table 8: Regression of carbs on calories&quot;</span>)</code></pre></div>
<table style="width:88%;">
<caption>Table 8: Regression of carbs on calories</caption>
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="18%" />
<col width="13%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">Estimate</th>
<th align="center">Std. Error</th>
<th align="center">t value</th>
<th align="center">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">0.1021</td>
<td align="center">0.0804</td>
<td align="center">1.27</td>
<td align="center">0.2111</td>
</tr>
<tr class="even">
<td align="center"><strong>calgram</strong></td>
<td align="center">0.1798</td>
<td align="center">0.02108</td>
<td align="center">8.528</td>
<td align="center">1.264e-10</td>
</tr>
</tbody>
</table>
</div>
<div id="the-stargazer-package" class="section level3">
<h3><span class="header-section-number">D.5.5</span> The <code>stargazer</code> package</h3>
<p>The <code>stargazer</code> package, like <code>pander</code>, automatically generates Markdown tables from R objects. The <code>stargazer</code> function has more formatting options than <code>pander</code> and can generate summary stats from a data frame table. It can also provide nicely formatted comparisons between 2 or more regression models. See the help file <code>?stargazer</code> for more options.</p>
<p>You will need to add the R chunk option <code>results='asis'</code> to get the table formatted correctly. I also include the <code>message=FALSE</code> option in the chunk below that runs the library command to suppress the automatic message created when running the <code>library</code> command with <code>stargazer</code>. When you give <code>stargazer</code> a data frame, it gives you summary stats for all numeric variables in the data frame (Table 10):</p>
<pre><code>```{r,  results='asis', message=FALSE}
library(stargazer)
stargazer(Cereals, type="html", title="Table 9: Default summary stats using stargazer")
```</code></pre>
<table style="text-align:center">
<caption>
<strong>Table 9: Default summary stats using stargazer</strong>
</caption>
<tr>
<td colspan="8" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Pctl(25)
</td>
<td>
Pctl(75)
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="8" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
serving
</td>
<td>
43
</td>
<td>
36.953
</td>
<td>
10.542
</td>
<td>
27
</td>
<td>
30
</td>
<td>
50
</td>
<td>
60
</td>
</tr>
<tr>
<td style="text-align:left">
calgram
</td>
<td>
43
</td>
<td>
3.779
</td>
<td>
0.517
</td>
<td>
2
</td>
<td>
3.6
</td>
<td>
4.0
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
calfatgram
</td>
<td>
43
</td>
<td>
0.490
</td>
<td>
0.261
</td>
<td>
0.000
</td>
<td>
0.328
</td>
<td>
0.600
</td>
<td>
1.034
</td>
</tr>
<tr>
<td style="text-align:left">
totalfatgram
</td>
<td>
43
</td>
<td>
0.053
</td>
<td>
0.031
</td>
<td>
0.000
</td>
<td>
0.033
</td>
<td>
0.063
</td>
<td>
0.121
</td>
</tr>
<tr>
<td style="text-align:left">
sodiumgram
</td>
<td>
43
</td>
<td>
0.005
</td>
<td>
0.002
</td>
<td>
0.000
</td>
<td>
0.003
</td>
<td>
0.006
</td>
<td>
0.007
</td>
</tr>
<tr>
<td style="text-align:left">
carbsgram
</td>
<td>
43
</td>
<td>
0.782
</td>
<td>
0.116
</td>
<td>
0.280
</td>
<td>
0.767
</td>
<td>
0.850
</td>
<td>
0.920
</td>
</tr>
<tr>
<td style="text-align:left">
proteingram
</td>
<td>
43
</td>
<td>
0.082
</td>
<td>
0.057
</td>
<td>
0.030
</td>
<td>
0.034
</td>
<td>
0.097
</td>
<td>
0.267
</td>
</tr>
<tr>
<td colspan="8" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<p>The default table <code>type</code> is <code>&quot;latex&quot;</code> which is the format you want when knitting to a pdf document. When knitting to an html document we need to change <code>type</code> to <code>&quot;html&quot;</code>. Unfortunately, there is no <code>type</code> that works nicely with Word documents so you would be better off using <code>pander</code> if you want a Word document.</p>
<p>Note: When using the <code>latex</code> type and knitting to a pdf, you will get an annoying stargazer message about the creation of your latex table. Include the argument <code>header=FALSE</code> in the <code>stargazer</code> command to suppress this message when knitting to a pdf.</p>
<p>You can subset the Cereals data frame to only include the variables (columns) that you want displayed. In Table 11 we only see calories and carbs. You can also edit the summary stats displayed by specifying them in the <code>summary.stat</code> argument. See the <code>stargazer</code> help file for more stat options.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">stargazer</span>(Cereals[,<span class="kw">c</span>(<span class="st">&quot;calgram&quot;</span>,<span class="st">&quot;carbsgram&quot;</span>)],
<span class="op">+</span><span class="st">     </span><span class="dt">type=</span><span class="st">&quot;html&quot;</span>, 
<span class="op">+</span><span class="st">     </span><span class="dt">title=</span><span class="st">&quot;Table 10: Five number summary stats&quot;</span>, 
<span class="op">+</span><span class="st">     </span><span class="dt">summary.stat=</span><span class="kw">c</span>(<span class="st">&quot;max&quot;</span>,<span class="st">&quot;p25&quot;</span>,<span class="st">&quot;median&quot;</span>,<span class="st">&quot;p75&quot;</span>,<span class="st">&quot;max&quot;</span>))</code></pre></div>
<table style="text-align:center">
<caption>
<strong>Table 10: Five number summary stats</strong>
</caption>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
Max
</td>
<td>
Pctl(25)
</td>
<td>
Median
</td>
<td>
Pctl(75)
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
calgram
</td>
<td>
5
</td>
<td>
3.6
</td>
<td>
3.9
</td>
<td>
4.0
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
carbsgram
</td>
<td>
0.920
</td>
<td>
0.767
</td>
<td>
0.800
</td>
<td>
0.850
</td>
<td>
0.920
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<p>The <code>stargazer</code> package was created to display results of statistical models. Here is the basic display for the regression of carbs on calories (Table 12). The argument <code>single.row</code> puts estimates and standard errors (in parentheses) in one row. There are many options that can be tweaked, like including p-values or confidence intervals.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span>my.lm &lt;-<span class="st"> </span><span class="kw">lm</span>(carbsgram <span class="op">~</span><span class="st"> </span>calgram, <span class="dt">data=</span>Cereals)
<span class="op">&gt;</span><span class="st"> </span><span class="kw">stargazer</span>(my.lm, <span class="dt">type=</span><span class="st">&quot;html&quot;</span>, 
<span class="op">+</span><span class="st">     </span><span class="dt">title=</span><span class="st">&quot;Table 11: Regression of carbs on calories&quot;</span>, 
<span class="op">+</span><span class="st">     </span><span class="dt">single.row=</span><span class="ot">TRUE</span>)</code></pre></div>
<table style="text-align:center">
<caption>
<strong>Table 11: Regression of carbs on calories</strong>
</caption>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
carbsgram
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
calgram
</td>
<td>
0.180<sup>***</sup> (0.021)
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
0.102 (0.080)
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
43
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.639
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.631
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
0.071 (df = 41)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
72.721<sup>***</sup> (df = 1; 41)
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p>Table 13 adds the argument <code>keep.stat</code> to specify that only sample size and <span class="math inline">\(R^2\)</span> should be included in the table. See the help file for more options to this argument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">stargazer</span>(my.lm, <span class="dt">type=</span><span class="st">&quot;html&quot;</span>, 
<span class="op">+</span><span class="st">     </span><span class="dt">title=</span><span class="st">&quot;Table 12: Regression of carbs on calories&quot;</span>, 
<span class="op">+</span><span class="st">     </span><span class="dt">single.row=</span><span class="ot">TRUE</span>, 
<span class="op">+</span><span class="st">     </span><span class="dt">keep.stat=</span><span class="kw">c</span>(<span class="st">&quot;n&quot;</span>,<span class="st">&quot;rsq&quot;</span>))</code></pre></div>
<table style="text-align:center">
<caption>
<strong>Table 12: Regression of carbs on calories</strong>
</caption>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
carbsgram
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
calgram
</td>
<td>
0.180<sup>***</sup> (0.021)
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
0.102 (0.080)
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
43
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.639
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rreview.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mathreview.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
